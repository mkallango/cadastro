<h1> Lista de Clientes </h1>

<table>
	<tr>
		<th>Nome</th>
		<th>Endereço</th>
		<th>Crianças</th>
		<th colspan="3"></th>
	</tr>

	<% @clientes.each do |cliente| %>
			<tr>			
				<td><%= cliente.name %></td>
				<td><%= cliente.address %></td>
				<td>
				<% cliente.criancas.each do |crianca| %>
					<%= crianca.name %>, 
				<% end %>				
				</td>
				<td><%= link_to 'Show', cliente_path(cliente) %></td>
				<td><%= link_to 'Edit', edit_cliente_path(cliente) %></td>
				<td><%= link_to 'Destroy', cliente_path(cliente), 
					method: :delete, 
					data:{ confirm: 'Tem certeza que deseja excluir o cadastro do Cliente?'} %></td>
			</tr>
	<% end %>
</table>
</br></br>

<div><%= link_to 'Novo Cliente', new_cliente_path %></div>

<div>
	<%= form_tag clientes_path, method: :get do %>
		<div>
			<label>Busca Cliente:</label>
			<%= text_field_tag :search, params[:search] %><%= submit_tag 'Search' %>
		</div>
	<% end %>
</div>


<br><br><br>
<%= react_component 'Clientes', { data: @clientes } %>
